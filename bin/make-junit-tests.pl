#! /usr/bin/perl -w
    eval 'exec /usr/bin/perl -S $0 ${1+"$@"}'
        if 0; #$running_under_some_shell

use strict;
use File::Find ();

# Set the variable $File::Find::dont_use_nlink if you're using AFS,
# since AFS cheats.

# for the convenience of &wanted calls, including -eval statements:
use vars qw/*name *dir *prune/;
*name   = *File::Find::name;
*dir    = *File::Find::dir;
*prune  = *File::Find::prune;


sub wanted {
   if (/^.*\.xml\z/s) {
      my $function = lcfirst join '', map ucfirst, split '/', $name;
      $function =~ s/\.xml//;
      $function =~ s/[\.-]/__/g;
      print "\tpublic void $function() throws Exception {\n";
      print "\t\tassertTrue(test(\"$name\"));\n";
      print "\t}\n\n";
   }
}

print << "EOF";
// This file is autogenerated. Don't edit
package uk.org.catnip.eddie.tests;

public class EddieTest extends EddieTestBase {


EOF
File::Find::find({wanted => \&wanted}, 'test/');

print "}\n";
exit;



